<div class="contain">
  <div class="titler">
    <h1>Discover the latest <span class="green-text">music</span> from you favorite artists</h1>
  </div>
<%# --------------------CAROUSEL------------------------------------------------------ %>
  <div class="center-carousel mh-25 w-100 mb-5" >
    <div class="carousel-img mh-25 mb-5">
      <%= render "shared/carousel-music" %>
    </div>
  </div>
  <div class="green-div w-100 h-20 mb-5 py-5 d-flex justify-content-center">
    <%= form_with url: musics_path, method: :get, class: "d-flex w-50 px-3" do %>
      <%= text_field_tag :query,
        params[:query],
        class: "form-control",
        placeholder: "Search your music"
      %>
      <%= submit_tag "Search", class: "btn-search" %>
    <% end %>
  </div>

<%# ----------------------------Album Cards------------------------------------ %>
  <div class="titler">
    <h1> Upcoming <span class="green-text">albums</span> from you favorite artists</h1>
  </div>
  <div class="cards">
    <% @albums.each do |album| %>
      <% if current_user.creators.ids.include? album.creator_id %>
        <div class="card-trip">
          <div data-controller="music-index">
            <% if current_user.favorited?(album) %>
              <%= link_to custom_unfav_path(album), data: { turbo_method: :post } do %>
                <i class="fa-solid fa-heart btn-heart-checked" data-action="click->music-index#favorite"></i>
              <% end %>
            <% else %>
              <%= link_to favorite_music_path(album), data: { turbo_method: :post } do %>
                <i class="fa-solid fa-heart btn-heart-unchecked" data-action="click->music-index#favorite"></i>
              <% end %>
            <% end %>
          <img src= "<%= album.poster_url %>", alt="Book poster">
          <div class="card-trip-infos">
          <div class="card-trip-infos">
            <p id="content-title"><%= link_to album.name, music_path(album) %></p> <br>
            <i class="fa-solid fa-pen-clip"></i>
            <%= album.creator.name %> <br>
            <i class="fa-solid fa-calendar-day"></i>
            <%= album.release_date %>
          </div>
        </div>
        </div>
      </div>
      <% end %>
    <% end %>
  </div>

  <div class="titler">
    <h1>Upcoming <span class="green-text">concerts</span> from you favorite artists</h1>
  </div>
  <div class="cards ">
    <% @concerts.each do |concert| %>
      <% if current_user.creators.ids.include? concert.creator_id %>
        <div class="card-trip">
          <img src= "<%= concert.poster_url %>", alt="Book poster">

        <div class="card-trip-infos">
          <strong>Title: </strong><%= link_to concert.name, music_path(concert) %> <br>
          <strong>Date: </strong><%= concert.date %> <br>
          <strong>Artist: </strong> <%= concert.creator.name %> <br>
          <strong>Venue: </strong> <%= concert.venue %> <br>
          <strong>Address: </strong> <%= concert.address %> <br>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
